.compact-view-enabled {
  .dcg-smart-textarea-container {
    font-size: var(--text-font-size) !important;
  }
  .dcg-mq-bracket-container {
    font-size: calc(
      max(var(--bracket-font-size-factor), var(--minimum-font-size))
    ) !important;
  }
  .dcg-main,
  .dcg-evaluation-container {
    font-size: var(--math-font-size) !important;
  }

  &.compact-view-no-separating-lines {
    .dcg-expressionitem:not(.dcg-selected) {
      border: none;
    }
    &.compact-view-highlight-alternating-lines
      .dcg-expressionitem:not(.dcg-expressionfolder):nth-child(2n) {
      background-color: #f5f5f5;
    }
    .dcg-expressionfolder {
      background-color: #e9e8f8;
    }
  }

  &.compact-view-remove-spacing-enabled {
    // make cursor/caret more obvious since it'll be smaller
    .dcg-mq-cursor {
      border: 1.5px solid black;
      margin: 0 -1.5px;
    }

    .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout):after {
      width: 25px !important;
      right: -12.5px !important;
      background: linear-gradient(to right, #ffffff00, #ffffffff 50%);
    }
    .dcg-main,
    .dcg-evaluation-container {
      padding: 0 35px !important;
      padding-right: 12.5px !important;
      margin-left: 4px !important;
    }

    // expressions in general
    .dcg-inFolder .dcg-main {
      margin-left: 30px !important;
    }
    .dcg-caret-container {
      padding: 7px !important;
      margin-left: -8px !important;
      transform: scale(0.8);
      margin-top: -5px;
    }
    .dcg-fade-container {
      padding-bottom: 0 !important;
    }
    &:not(.compact-view-no-separating-lines) {
      .dcg-expressionitem:not(.dcg-selected) {
        border-top-color: #777777;
      }
    }
    .dcg-expressionitem.dcg-inFolder .dcg-fade-container:after {
      border-left-color: #000000aa;
    }

    // icons to the left of the expressions bar
    .dcg-expression-icon-container {
      right: 0 !important;
      top: 30% !important;
      transform: scale(0.5);
      .dcg-tooltip-hit-area-container {
        transform: scale(1.3);
      }
    }

    // "x" icon to the right of the expressions
    .dcg-icon-remove {
      transform: translate(10px, -10px) scale(0.6);
    }

    // slider
    .dcg-slider-container {
      min-height: 0 !important;
    }
    .dcg-track .dcg-graphic {
      height: 2px !important;
      background-color: #999999 !important;
    }
    .dcg-thumb .dcg-graphic {
      width: 0 !important;
      height: 0 !important;
    }
    .dcg-thumb .dcg-center {
      transform: translateY(-2px) scale(0.4) !important;
    }
    .dcg-thumb:hover .dcg-center {
      transform: translateY(-2px) scale(0.8) !important;
    }

    // evaluation box
    .dcg-evaluation-container {
      .dcg-typeset-math {
        padding: 0 !important;
      }

      margin-top: -5px;
    }

    // tables
    .dcg-cell {
      padding: 0px !important;
    }
    .dcg-table-icon-container {
      transform: scale(0.5);
      margin-left: -10px !important;
      z-index: 2;
    }

    // settings
    .dcg-expression-edit-actions .dcg-exp-action-button {
      padding: 0 !important;
      width: 14px !important;
      height: 14px !important;
      transform: scale(0.7) translateY(-5px);
    }
  }
}
